(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2435],{57926:function(e,t,r){Promise.resolve().then(r.bind(r,7710)),Promise.resolve().then(r.bind(r,4702)),Promise.resolve().then(r.bind(r,35482)),Promise.resolve().then(r.bind(r,60177))},4702:function(e,t,r){"use strict";var a=r(57437),s=r(66648),o=r(2265);r(8049),t.default=e=>{let{image:t,productName:r,images:i}=e,[l,n]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=document.getElementById("imageZoom");e.addEventListener("mousemove",t=>{e.style.setProperty("--display","block");let r={x:100*t.offsetX/e.offsetWidth,y:100*t.offsetY/e.offsetHeight};e.style.setProperty("--zoomX","".concat(r.x,"%")),e.style.setProperty("--zoomY","".concat(r.y,"%"))}),e.addEventListener("mouseleave",t=>{e.style.setProperty("--display","none")})},[]);let d={"--url":"url(".concat(l?l.image:t,")"),"--zoomX":"0%","--zoomY":"0%","--display":"none"};return(0,a.jsxs)("div",{className:"flex md:flex-row-reverse flex-col lg:flex-col gap-5 mt-5",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{id:"imageZoom",style:d,children:t&&(0,a.jsx)(s.default,{src:l?null==l?void 0:l.image:t,alt:"Product Big Image",height:400,width:400})})}),(0,a.jsx)("div",{className:"flex flex-row md:flex-col lg:flex-row gap-2 lg:gap-5 mt-4 md:mt-0 lg:mt-2",children:null==i?void 0:i.map(e=>(0,a.jsx)("div",{className:" flex-1 md:flex-none lg:flex-1",children:(0,a.jsx)(s.default,{onClick:()=>n(e),src:e.image,alt:"Product Image",height:100,width:100,className:"h-[100px] w-full flex-grow object-cover rounded-2xl ".concat((null==e?void 0:e.id)===(null==l?void 0:l.id)&&"border-4  border-[#192a56] duration-200 ")})},e.id))})]})}},7710:function(e,t,r){"use strict";r.d(t,{default:function(){return g}});var a=r(57437),s=r(2265),o=r(43781),i=r(35023),l=r(11444),n=r(38472),d=()=>{let[e,t]=(0,s.useState)({}),[r,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{(async()=>{try{var e,r;let s=await n.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/Product/search/5"));t(s.data);let o=null===(r=s.data)||void 0===r?void 0:null===(e=r.json_attribute)||void 0===e?void 0:e.attributes,i=[];for(let e in o)i.push({[e]:o[e]});a(i)}catch(e){console.log(e.message)}})()},[]),{attributes:r}},c=r(28549),u=r(18409),m=r(28743),p=r(68038),f=r(87942),x=e=>{let{inputAttribute:t,setInputAttribute:r}=e,{attributes:s}=d(),o={},i=e=>{let a=Object.keys(e),s=Object.values(e);o={...o,[a]:{[s]:1}},r({...t,...o})};return(0,a.jsx)("div",{children:s.map((e,t)=>(0,a.jsx)("div",{children:(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(u.Z,{id:"demo-row-radio-buttons-group-label",children:Object.keys(e)[0]}),(0,a.jsx)(m.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",children:Object.keys(Object.values(e)[0]).map((t,r)=>(0,a.jsx)(p.Z,{onChange:t=>i({[Object.keys(e)[0]]:t.target.value}),value:t,control:(0,a.jsx)(f.Z,{}),label:t},r))})]})},t))})},h=r(16182),g=e=>{let{product:t}=e,{handleAddWishlist:r,wishProducts:n,handleRemoveWishListProduct:d}=(0,s.useContext)(i.R),[c,u]=(0,s.useState)({}),m=(0,l.I0)(),p=e=>{let t=1,r=e.price;e.count&&(t++,r+=e.price),console.log(c);let a={name:e.name,image:e.image,productId:e.id,price:e.price,count:t,totalPrice:r,attributes:c};m((0,h.Xq)(a))};return n.find(e=>e.id===t.id),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{inputAttribute:c,setInputAttribute:u}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2.5",children:(0,a.jsxs)("button",{onClick:()=>p(t),className:"flex items-center gap-2 bg-[#192a56] px-4 py-2 text-white rounded-full active:scale-95 duration-200 font-medium hover:bg-[#273c75]",children:[(0,a.jsx)(o._0z,{className:"text-xl"})," ",(0,a.jsx)("span",{children:"Add To Cart"})]})})]})}},35482:function(e,t,r){"use strict";r.d(t,{default:function(){return j}});var a=r(57437),s=r(2265),o=r(60177),i=r(16356),l=r(28196),n=r(38472),d=r(44785);let c=async e=>{if(e)try{return(await n.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/ReviewRating/search/").concat(e))).data}catch(e){var t,r,a,s;throw console.error("Axios fetch error:",(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||e.message),Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"An error occurred")}},u=async(e,t)=>{if(e&&t)try{return(await n.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/ReviewRating/search/").concat(e,"/").concat(t))).data}catch(e){var r,a,s,o;throw console.error("Axios fetch error:",(null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||e.message),Error((null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.message)||"An error occurred")}};var m=r(11444),p=r(39605);function f(e){let{productId:t,userId:c,close:f,userName:x}=e,[h,g]=(0,s.useState)(0),[v,b]=(0,s.useState)(!1),[j,y]=(0,s.useState)({}),w=d.Z.get("accessToken"),N=(0,m.I0)(),{loading:I}=(0,m.v9)(e=>e.product);(0,s.useEffect)(()=>{async function e(){try{let e=await u(c,t);y(e),N((0,p.M2)())}catch(e){console.error("Failed to fetch previous review:",e),N((0,p.M2)())}}N((0,p.mb)()),w&&c&&e()},[c,t,w,v]);let S=async e=>{e.preventDefault();let r=new FormData;r.append("review",e.target.comment.value),r.append("rating",e.target.star.value),r.append("product",t),r.append("user",c);try{let e=await n.Z.post("".concat("https://testingbackend.ceramicandfoodproducts.com","/ReviewRating/addReviewRating"),r,{headers:{"Content-Type":"application/json"}});201===e.status&&f()}catch(e){console.log(e)}},C=async e=>{e.preventDefault();let a=new FormData;a.append("review",e.target.edit_comment.value),a.append("rating",e.target.star_edit.value),a.append("product",t),a.append("user",c);try{let e=await n.Z.put("".concat("https://testingbackend.ceramicandfoodproducts.com","/ReviewRating/update/").concat(c,"/").concat(t),a,{headers:{"Content-Type":"application/json"}});if(200===e.status){f();let{revalidatePath:e}=await r.e(9088).then(r.t.bind(r,19088,23));e("/products/product-info/".concat(t))}}catch(e){console.log(e)}};return I?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)(a.Fragment,{children:j?(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("span",{className:"",children:[(0,a.jsx)(o.default,{name:"read-only",defaultValue:3.5,precision:.5,value:parseInt(null==j?void 0:j.rating),readOnly:!0,sx:{fontSize:"1rem"}}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-[rgba(0,128,0,0.7)]",children:x}),(0,a.jsx)("span",{children:(0,a.jsx)(i.K7e,{color:"rgba(0,128,0,0.5)"})}),(0,a.jsx)("p",{className:"text-[0.65rem] font-extralight text-[blue]",children:"Verified Customer"})]})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("p",{className:" w-[70%]",children:[null==j?void 0:j.review,"!!!"]}),(0,a.jsx)("span",{className:"flex justify-end w-[30%] items-center cursor-pointer",children:(0,a.jsx)(l.AAC,{size:25,onClick:()=>b(!0)})})]}),(0,a.jsxs)("form",{onSubmit:C,className:"flex flex-col gap-3",children:[v&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(o.default,{name:"star_edit",value:h,onChange:(e,t)=>{g(t)},sx:{fontSize:"2.5rem"}}),(0,a.jsx)("p",{className:"text-[2rem] font-bold text-[rgba(0,128,0,0.5)]",children:h})]}),v&&(0,a.jsx)("input",{defaultValue:null==j?void 0:j.review,type:"text",name:"edit_comment",className:"pl-2 border-2 border-[blue] py-[1rem]",placeholder:"Describe your brief thought..."}),v&&(0,a.jsx)("button",{className:"border bg-[rgba(0,128,0,0.2)] w-fit px-3 rounded-xl py-[0.5rem] font-bold text-[rgba(0,128,0,0.5)] hover:bg-white",type:"submit",children:"UPDATE"})]})]}):(0,a.jsx)("div",{className:"flex-flex-col",children:(0,a.jsxs)("form",{className:"flex flex-col gap-3",onSubmit:S,children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("p",{className:"text-lg font-semibold text-[rgba(0,128,0,0.5)]",children:["Rate this product"," "]}),(0,a.jsx)("p",{className:"text-xs",children:"Tell others what you think"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(o.default,{name:"star",value:h,onChange:(e,t)=>{g(t)},sx:{fontSize:"2.5rem"}}),(0,a.jsx)("p",{className:"text-[2rem] font-bold text-[rgba(0,128,0,0.5)]",children:h})]}),(0,a.jsx)("p",{className:"hover:text-[blue] text-[rgba(0,0,255,0.5)] cursor-pointer font-semibold  w-fit px-[0.5rem] rounded-lg hover:bg-[rgba(0,0,0,0.07)]",onClick:()=>{b(!0)},children:"Write a review"}),v&&(0,a.jsx)("input",{type:"text",name:"comment",className:"pl-2 border-2 border-[blue] py-[1rem]",placeholder:"Describe your brief thought..."}),v&&(0,a.jsx)("button",{className:"border bg-[rgba(0,128,0,0.2)] w-fit px-3 rounded-xl py-[0.5rem] font-bold text-[rgba(0,128,0,0.5)] hover:bg-white",type:"submit",children:"POST"})]})})})}var x=r(62501),h=r(91326),g=r(64379),v=r.n(g),b=r(16463),j=e=>{let{productId:t}=e,[r,l]=(0,s.useState)(!1),[n,d]=(0,s.useState)([]),{currentUser:u}=(0,m.v9)(e=>e.user),p=(0,b.usePathname)(),g=(0,b.useRouter)();(0,s.useEffect)(()=>{!async function(){try{let e=await c(t);e&&d(e)}catch(e){console.log(e)}}()},[r,t]);let j=()=>{l(!1)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>{if(!u){g.push("/signin?redirect=".concat(p)),v().fire({position:"center",icon:"warning",title:"Please login First",showConfirmButton:!1,timer:1500});return}l(!0)},className:"border-[rgba(0,0,255,0.5)] border-2 px-4 py-2 text-[blue] rounded-md font-semibold",children:"Add Review & Feedback"}),(0,a.jsx)(x.Z,{open:r,onClose:j,children:(0,a.jsx)(h.Z,{className:"absolute top-1/2 lg:left-1/2 left-[45%] transform -translate-x-1/2 -translate-y-1/2 w-[90vw] lg:w-[60%] bg-white border-2 shadow-lg p-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f,{productId:t,userName:null==u?void 0:u.name,userId:null==u?void 0:u.Id,close:j}),(0,a.jsx)("button",{onClick:j,className:"bg-gray-50 shadow  rounded-full w-[25px] h-[25px] font-bold absolute !right-0 !top-0 bg-[rgba(255,255,255,0.3)]",children:"X"})]})})})]}),(0,a.jsx)("div",{children:n&&n.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("span",{className:"",children:[(0,a.jsx)(o.default,{name:"read-only",value:parseInt(null==e?void 0:e.rating),readOnly:!0,sx:{fontSize:"1rem"}}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-[rgba(0,128,0,0.7)]",children:null==e?void 0:e.user.name}),(0,a.jsx)("span",{children:(0,a.jsx)(i.K7e,{color:"rgba(0,128,0,0.5)"})}),(0,a.jsx)("p",{className:"text-[0.65rem] font-extralight text-[blue]",children:"Verified Customer"})]})]}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("p",{className:" w-[70%]",children:[null==e?void 0:e.review,"!!!"]})})]},t))})]})}},16182:function(e,t,r){"use strict";r.d(t,{LL:function(){return d},Xq:function(){return s},dP:function(){return n},fX:function(){return o},h2:function(){return i},z3:function(){return l}});let a=(0,r(81904).oM)({name:"cart",initialState:{items:[],isCartVisible:!1},reducers:{addToCart:(e,t)=>{if(e.items.some(e=>e.productId===t.payload.productId)){let r=e.items.find(e=>e.productId===t.payload.productId),a=r.count+1,s=r.price*a,o={...r,count:a,totalPrice:s},i=e.items.filter(e=>e.productId!==t.payload.productId);return{...e,items:[...i,o]}}return{...e,items:[...e.items,t.payload]}},addToCart:(e,t)=>{if(Array.isArray(e.items)||(e.items=[]),e.items.some(e=>e.productId===t.payload.productId)){let r=e.items.find(e=>e.productId===t.payload.productId),a=r.count+1,s=r.price*a,o={...r,count:a,totalPrice:s},i=e.items.filter(e=>e.productId!==t.payload.productId);e.items=[...i,o]}else e.items.push(t.payload)},removeFromCart:(e,t)=>{let r=e.items.filter(e=>e.productId!==t.payload);return{...e,items:[...r]}},cartCountIncrement:(e,t)=>{if(e.items.some(e=>e.productId===t.payload)){let r=[...e.items],a=r.find(e=>e.productId===t.payload),s=a.count+1,o=a.price*s,i={...a,count:s,totalPrice:o},l=r.findIndex(e=>e.productId===t.payload);return r.splice(l,1,{...i}),{...e,items:[...r]}}},cartCountDecrement:(e,t)=>{if(e.items.some(e=>e.productId===t.payload)){let r=[...e.items],a=r.find(e=>e.productId===t.payload),s=a.count-1,o=a.price*s,i={...a,count:s,totalPrice:o},l=r.findIndex(e=>e.productId===t.payload);return r.splice(l,1,{...i}),{...e,items:[...r]}}},clearCart:e=>{e.items=[],e.cartCount=0},cartVisible:(e,t)=>{e.isCartVisible=t.payload}}}),{addToCart:s,cartVisible:o,removeFromCart:i,cartCountIncrement:l,cartCountDecrement:n,clearCart:d}=a.actions;t.ZP=a.reducer},39605:function(e,t,r){"use strict";r.d(t,{M2:function(){return c},mb:function(){return o}});let a=(0,r(81904).oM)({name:"product",initialState:{ratingAverage:0,items:[],selectedProduct:null,reviews:[],loading:!1,error:null},reducers:{addProduct:(e,t)=>{e.items.push(t.payload)},fetchProductDetailsStart:e=>{e.loading=!0,e.error=null},fetchProductDetailsSuccess:(e,t)=>{e.selectedProduct=t.payload,e.loading=!1,e.error=null},fetchProductDetailsFailure:(e,t)=>{e.loading=!1,e.error=t.payload},addReview:(e,t)=>{e.reviews.push(t.payload)},addAverageRating:(e,t)=>{e.ratingAverage=t.payload},fetchReviewRatingSuccess:e=>{e.loading=!1}}}),{addProduct:s,fetchProductDetailsStart:o,fetchProductDetailsSuccess:i,fetchProductDetailsFailure:l,addReview:n,addAverageRating:d,fetchReviewRatingSuccess:c}=a.actions;t.ZP=a.reducer},35023:function(e,t,r){"use strict";r.d(t,{R:function(){return i}});var a=r(57437),s=r(2265),o=r(91502);let i=(0,s.createContext)();t.default=e=>{let{children:t}=e,[r,l]=(0,s.useState)(!1),[n,d]=(0,s.useState)(()=>(0,o.jy)()),c={isToggleOpen:r,handleDrawerOpen:e=>{l(e)},handleRemoveWishListProduct:e=>{(0,o.I)(e),d((0,o.jy)())},wishProducts:n,setWishProducts:d,wishListItems:n.length,handleAddWishlist:e=>{let t={id:e.id,name:e.name,image:e.image,stock:e.stock,price:e.price};(0,o.uN)(t),d((0,o.jy)())}};return(0,a.jsx)(i.Provider,{value:c,children:t})}},91502:function(e,t,r){"use strict";r.d(t,{I:function(){return o},jy:function(){return a},uN:function(){return s}});let a=()=>{let e;if("undefined"!=typeof localStorage){var t;e=null===(t=localStorage)||void 0===t?void 0:t.getItem("wishlist")}return e?JSON.parse(e):[]},s=e=>{let t=a();t.find(t=>t.id===e.id)||(t.push(e),localStorage.setItem("wishlist",JSON.stringify(t)))},o=e=>{let t=a();if(t.find(t=>t.id===e)){let r=t.filter(t=>t.id!==e);localStorage.removeItem("wishlist"),localStorage.setItem("wishlist",JSON.stringify(r))}}},8049:function(){}},function(e){e.O(0,[4655,6051,9461,1779,614,350,8472,9537,8173,2501,1444,6145,3818,8929,7313,1618,2971,7023,1744],function(){return e(e.s=57926)}),_N_E=e.O()}]);