(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4167],{98935:function(e,t,r){Promise.resolve().then(r.bind(r,27024)),Promise.resolve().then(r.bind(r,8624)),Promise.resolve().then(r.bind(r,52033))},27024:function(e,t,r){"use strict";var s=r(57437),a=r(2265),o=r(87138),c=r(66648),l=r(38472);t.default=e=>{let{params:t}=e,{id:r}=t;console.log("id",r);let[n,i]=(0,a.useState)([]),[d,h]=(0,a.useState)([]),[m,u]=(0,a.useState)(!0),[x,f]=(0,a.useState)([]),[g,p]=(0,a.useState)([1]),[b,w]=(0,a.useState)("");(0,a.useEffect)(()=>{r&&(async()=>{try{let e=await l.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/Product/searchByCategory/").concat(r));i(e.data||[]),h(e.data||[])}catch(e){console.error("Error fetching products:",e)}finally{u(!1)}})()},[r]),(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("https://testingbackend.ceramicandfoodproducts.com","/Category/search"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();f(t)}catch(e){console.error("Error fetching categories:",e)}})()},[]);let y=e=>{w(e);let t=[...d];t.sort((t,r)=>"lowToHigh"===e?t.price-r.price:r.price-t.price),h(t)},N=async(e,t)=>{let r=t?[...g,e]:g.filter(t=>t!==e);if(p(r),0===r.length){h(n);return}try{let e=r.map(e=>fetch("".concat("https://testingbackend.ceramicandfoodproducts.com","/Product/searchByCategory/").concat(e)).then(async e=>{if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.text();return t?JSON.parse(t):[]})),t=await Promise.all(e);h(t.flat())}catch(e){console.error("Error fetching category products:",e)}};return(0,s.jsx)("section",{children:(0,s.jsxs)("div",{className:"container mx-auto p-4 md:p-8 flex flex-col md:flex-row gap-8",children:[(0,s.jsxs)("aside",{className:"w-full md:w-64 p-4 bg-gray-100 border rounded-md shadow-md h-auto md:h-screen overflow-auto",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Sort by"}),(0,s.jsx)("div",{className:"mb-6 space-y-2",children:["lowToHigh","highToLow"].map(e=>(0,s.jsxs)("label",{className:"block text-sm",children:[(0,s.jsx)("input",{type:"radio",name:"sort",value:e,checked:b===e,onChange:()=>y(e),className:"mr-2"}),"lowToHigh"===e?"Price - Low to High":"Price - High to Low"]},e))}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),(0,s.jsx)("div",{className:"space-y-2",children:x.map(e=>{let{Id:t,name:r}=e;return(0,s.jsxs)("label",{className:"block text-sm",children:[(0,s.jsx)("input",{type:"checkbox",name:"category",value:r,checked:g.includes(t),onChange:e=>N(t,e.target.checked),className:"mr-2"}),r]},t)})})]}),(0,s.jsxs)("main",{className:"flex-1 p-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-center",children:["Search Results: ",d.length," ",1===d.length?"product":"products"]}),m?(0,s.jsx)("p",{className:"text-center text-gray-600",children:"Loading products..."}):0===d.length?(0,s.jsx)("p",{className:"text-center text-gray-600",children:"No products found."}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d.map((e,t)=>{var r;return(0,s.jsxs)("div",{className:"relative border bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden flex flex-col justify-between",children:[e.offer&&(0,s.jsxs)("div",{className:"absolute top-0 left-0 bg-red-500 text-white text-xs font-bold py-1 px-2 rounded-br-md",children:[e.offer,"% OFF"]}),(0,s.jsx)("div",{className:"p-4 flex justify-center items-center bg-gray-100",children:(0,s.jsx)(c.default,{src:(null===(r=e.image[0])||void 0===r?void 0:r.startsWith("http"))?e.image[0]:"https://farseit.com/Upload/ProductImage/".concat(e.image[0].split("/").pop()),width:250,height:250,className:"w-auto h-48 object-cover group-hover:scale-105 transition-transform duration-300",alt:e.name,loading:0===t?"eager":"lazy",priority:0===t})}),(0,s.jsxs)("div",{className:"p-4 text-center",children:[(0,s.jsx)("h2",{className:"font-medium text-lg truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-blue-700 text-sm font-bold mb-4",children:["à§³ ",new Intl.NumberFormat().format(e.price)]}),(0,s.jsxs)("div",{className:"flex justify-center gap-2 w-full",children:[(0,s.jsx)("button",{onClick:()=>handleAddToCart(e),className:"flex-1 w-full max-w-[200px] rounded-md border border-blue-600 text-blue-600 text-xs font-semibold text-center py-1 transition-all duration-300 hover:bg-blue-600 hover:text-white",children:"Add to Cart"}),(0,s.jsx)(o.default,{href:"/checkout",className:"flex-1 w-full max-w-[200px] rounded-md bg-blue-600 text-white text-xs font-semibold text-center py-1 transition-all duration-300 hover:bg-blue-700",children:"Buy Now"})]})]})]},t)})})]})]})})}}},function(e){e.O(0,[7699,6051,9212,6305,3676,2376,9537,8472,2501,8173,8159,6145,4893,231,7581,6351,7061,5290,9659,2971,7023,1744],function(){return e(e.s=98935)}),_N_E=e.O()}]);