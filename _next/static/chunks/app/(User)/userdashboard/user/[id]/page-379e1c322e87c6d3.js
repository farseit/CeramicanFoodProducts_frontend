(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8924,5141,652],{88326:function(e,t,r){Promise.resolve().then(r.bind(r,77107))},77107:function(e,t,r){"use strict";r.d(t,{default:function(){return f}});var a=r(57437),l=r(2265),n=r(22960),s=r(48024),o=r(91326),i=r(20124),d=r(23051),u=r(72107),c=r(11444),m=r(66648),g=r(38472),p=r(84894);r(87138);var f=e=>{let{params:t}=e,{Id:r}=t,f=function(){let[e,t]=(0,l.useState)(()=>window.innerWidth);return(0,l.useEffect)(()=>{function e(){t(window.innerWidth)}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}(),{currentUser:x}=(0,c.v9)(e=>e.user);(0,n.Z)();let[h,y]=l.useState(f>=1280),[w,b]=l.useState(!1),[j,N]=l.useState(x.Image),[v,S]=l.useState(!1),U=(0,c.I0)();l.useEffect(()=>{f>=1280?y(!0):y(!1)},[f]);let[P,k]=(0,l.useState)(!1),[F,E]=(0,l.useState)([]);(0,l.useEffect)(()=>{E([{id:1,customer:"John Doe",total:150,status:"Processing"},{id:2,customer:"Jane Smith",total:200,status:"Shipped"},{id:3,customer:"Mark Johnson",total:120,status:"Delivered"}])},[]);let I=async e=>{U((0,p.kv)());let t=e.target.files[0];if(t)try{let e=await (0,u.Z)(t,{maxSizeMB:.1,maxWidthOrHeight:1024,useWebWorker:!0}),a=new File([e],t.name,{type:t.type}),l=new FileReader;l.onload=e=>{N(e.target.result)},l.readAsDataURL(a);let n=new FormData;n.append("ProfilePicture",a);let s=await g.Z.put("".concat("https://testingbackend.ceramicandfoodproducts.com","/user/ChangeProfilePicture/").concat(r),n);200===s.status&&(U((0,p.Uw)(s.data)),alert("Image added successfully!"))}catch(e){console.error(e),U((0,p.jp)(e.message)),alert("Error uploading image: "+e.message)}};l.useEffect(()=>{},[j]);let C=async e=>{e.preventDefault(),U((0,p.kv)());let t=new FormData;t.append("name",e.target.name.value),t.append("address",e.target.address.value),t.append("phone",e.target.phone.value);try{let e=await g.Z.put("".concat("https://testingbackend.ceramicandfoodproducts.com","/user/profile/edit/").concat(r),t,{headers:{"Content-Type":"application/json"}});200===e.status&&(console.log(e.data.message),U((0,p.Uw)(e.data)))}catch(e){alert(e),U((0,p.jp)())}};return(0,s.ZP)("div")(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1),...t.mixins.toolbar}}),(0,a.jsxs)(o.Z,{sx:{display:"flex",position:"relative"},children:[(0,a.jsx)(i.ZP,{}),(0,a.jsxs)(o.Z,{component:"main",sx:{},children:[(0,a.jsx)("p",{className:"text-xl ",children:"Personal Info"}),(0,a.jsxs)("form",{className:"w-full h-full flex lg:flex-row flex-col gap-8 items-center justify-center",onSubmit:C,children:[(0,a.jsxs)("div",{className:"lg:w-[30%] flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"max-h-[10rem] lg:max-h-[12rem] min-h-[8rem] lg:min-h-[10rem] max-w-[10rem] lg:max-w-[12rem] min-w-[8rem] lg:min-w-[10rem] border-4 rounded-full overflow-hidden flex items-center justify-center bg-gray-200",children:(0,a.jsx)(m.default,{src:j,height:170,width:170,className:"object-cover",alt:"User picture"})}),(0,a.jsx)("input",{className:"hidden",id:"imageChange",type:"file",onChange:I}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),document.getElementById("imageChange").click()},className:"mt-2 bg-dash-primary hover:bg-blue-600 text-white rounded-full p-2",children:(0,a.jsx)(d.ggF,{size:20})})]}),(0,a.jsxs)("div",{className:"lg:w-[70%] w-full lg:px-10 px-4 flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex w-full  gap-4",children:[(0,a.jsx)("label",{htmlFor:"name",className:"w-[30%] text-lg font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{type:"text",name:"name",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:x.name})]}),(0,a.jsxs)("div",{className:"flex w-full gap-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"w-[30%] text-lg font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{type:"text",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",defaultValue:x.email,disabled:!0})]}),(0,a.jsxs)("div",{className:"flex w-full gap-4",children:[(0,a.jsx)("label",{htmlFor:"address",className:"w-[30%] text-lg font-medium text-gray-700",children:"Address"}),(0,a.jsx)("input",{type:"text",name:"address",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:x.address})]}),(0,a.jsxs)("div",{className:"flex w-full gap-4",children:[(0,a.jsx)("label",{htmlFor:"phone",className:"w-[30%] text-lg font-medium text-gray-700",children:"Phone"}),(0,a.jsx)("input",{type:"text",name:"phone",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:x.phone})]}),(0,a.jsxs)("div",{className:"flex w-full gap-4",children:[(0,a.jsx)("label",{htmlFor:"role",className:"w-[30%] text-lg font-medium text-gray-700",children:"Role"}),(0,a.jsx)("input",{type:"text",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",defaultValue:x.role,disabled:!0})]}),(0,a.jsxs)("div",{className:"flex w-full gap-4",children:[(0,a.jsx)("label",{htmlFor:"joined",className:"w-[30%] text-lg font-medium text-gray-700",children:"Joined"}),(0,a.jsx)("input",{type:"text",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",defaultValue:new Date(x.registration_date).toISOString().split("T")[0],disabled:!0})]}),v&&(0,a.jsx)("button",{className:"mt-6 bg-blue-500 hover:bg-blue-600 text-white py-2 px-6 rounded-lg",type:"submit",children:"Update"})]})]})]}),!v&&(0,a.jsx)("button",{className:"absolute top-10 right-10 bg-dash-primary px-2 py-1 rounded-md text-white",onClick:()=>S(!0),children:"Edit Info"})]})}},84894:function(e,t,r){"use strict";r.d(t,{AP:function(){return s},Dl:function(){return g},Uw:function(){return c},fc:function(){return n},jp:function(){return m},kv:function(){return u},lA:function(){return l}});let a=(0,r(81904).oM)({name:"user",initialState:{currentUser:null,error:null,loading:!1},reducers:{SignInStart:e=>{e.loading=!0,e.error=null},SignInSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},SignInFailure:(e,t)=>{e.loading=!1,e.error=t.payload},RegisterStart:e=>{e.loading=!0,e.error=null},RegisterSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},RegisterFailure:(e,t)=>{e.loading=!1,e.error=t.payload},UpdateProfileStart:e=>{e.loading=!0,e.error=null},UpdateProfileSuccess:(e,t)=>{e.currentUser={...e.currentUser,...t.payload},e.loading=!1,e.error=null},UpdateProfileFailure:(e,t)=>{e.loading=!1,e.error=t.payload},LogOutUser:(e,t)=>{e.currentUser=null}}}),{SignInStart:l,SignInFailure:n,SignInSuccess:s,RegisterStart:o,RegisterSuccess:i,RegisterFailure:d,UpdateProfileStart:u,UpdateProfileSuccess:c,UpdateProfileFailure:m,LogOutUser:g}=a.actions;t.ZP=a.reducer}},function(e){e.O(0,[522,350,8472,8173,7138,1444,3818,1088,2971,7023,1744],function(){return e(e.s=88326)}),_N_E=e.O()}]);