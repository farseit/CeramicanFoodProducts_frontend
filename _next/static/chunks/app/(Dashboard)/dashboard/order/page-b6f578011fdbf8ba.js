(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4797],{58136:function(e,t,r){Promise.resolve().then(r.bind(r,51032))},51032:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(57437),a=r(2265),s=r(38472),i=r(45599),o=r(85072),l=r(48024),c=r(22305),d=r(74275),u=r(28549),h=r(94893),m=r(11656),x=r(23051);let p=(0,l.ZP)("div")(e=>{let{theme:t}=e;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:(0,c.Fq)(t.palette.common.white,.15),"&:hover":{backgroundColor:(0,c.Fq)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%",[t.breakpoints.up("sm")]:{marginLeft:t.spacing(3),width:"auto"}}}),g=(0,l.ZP)("div")(e=>{let{theme:t}=e;return{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),f=(0,l.ZP)(d.ZP)(e=>{let{theme:t}=e;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(.5,1,.5,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%",[t.breakpoints.up("md")]:{width:"20ch"}}}});var v=()=>{let[e,t]=(0,a.useState)(""),[r,s]=(0,a.useState)(""),[i,o]=(0,a.useState)("");return(0,n.jsxs)("div",{className:"flex justify-between gap-6 items-center px-6 py-1 border-b",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(u.Z,{sx:{m:1},size:"small",children:(0,n.jsxs)(h.Z,{className:"text-white text-lg appearance-none font-medium outline-0 border-0 rounded-lg ",value:i,onChange:e=>{o(e.target.value)},sx:{".MuiSvgIcon-root ":{fill:""},"& .MuiSelect-select":{paddingRight:2,paddingLeft:2,paddingTop:.5,paddingBottom:.5}},displayEmpty:!0,children:[(0,n.jsx)(m.Z,{value:"",children:"10"}),(0,n.jsx)(m.Z,{value:"20",className:"font-medium",children:"20"}),(0,n.jsx)(m.Z,{value:"30",className:"font-medium",children:"30"})]})}),(0,n.jsx)(u.Z,{sx:{m:1},size:"small",children:(0,n.jsxs)(h.Z,{className:"text-white text-lg appearance-none font-medium outline-0 border-0 rounded-lg ",value:r,onChange:e=>{s(e.target.value)},sx:{".MuiSvgIcon-root ":{fill:""},"& .MuiSelect-select":{paddingRight:2,paddingLeft:2,paddingTop:.5,paddingBottom:.5}},displayEmpty:!0,children:[(0,n.jsx)(m.Z,{value:"",children:" All Date"}),(0,n.jsx)(m.Z,{value:"This Week",className:"font-medium",children:"This Week"}),(0,n.jsx)(m.Z,{value:"This Month",className:"font-medium",children:"Last Month"})]})}),(0,n.jsx)(u.Z,{sx:{m:1},size:"small",children:(0,n.jsxs)(h.Z,{className:"text-white text-lg appearance-none font-medium outline-0 border-0 rounded-lg ",value:e,onChange:e=>{t(e.target.value)},sx:{".MuiSvgIcon-root ":{fill:""},"& .MuiSelect-select":{paddingRight:2,paddingLeft:2,paddingTop:.5,paddingBottom:.5}},displayEmpty:"Order Status",children:[(0,n.jsxs)(m.Z,{value:"",disabled:!0,children:[" ","Order Status"]}),(0,n.jsx)(m.Z,{value:"Completed",className:"font-medium",children:"Completed"}),(0,n.jsx)(m.Z,{value:"Processing",className:"font-medium",children:"Processing"}),(0,n.jsx)(m.Z,{value:"Canceled",className:"font-medium",children:"Canceled"})]})})]}),(0,n.jsx)("div",{children:(0,n.jsxs)(p,{className:"border border-[#E8E8F2] text-gray-600 rounded-xl md:w-[40%] lg:w-[30%]",children:[(0,n.jsx)(g,{children:(0,n.jsx)(x.Qcu,{className:"text-secondary"})}),(0,n.jsx)(f,{onChange:e=>{},placeholder:"Result for Search…",inputProps:{"aria-label":"search"}})]})})]})},j=r(40468),b=r(88929),Z=r(47245),y=()=>{let[e,t]=(0,a.useState)(0),[r,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(5),[u,h]=(0,a.useState)(1),[m,x]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{let e=(await s.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/Order/search"))).data;t(e.length);let r=e.slice((u-1)*c,u*c);l(r)}catch(e){console.error("Error fetching data:",e),g("An error occurred while fetching the data.")}finally{x(!1)}})()},[u]),m)?(0,n.jsxs)("div",{className:"flex justify-center items-center h-screen",children:[(0,n.jsx)(j.Z,{})," "]}):p?(0,n.jsx)("div",{className:"text-center text-red-500",children:p}):(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.Z,{title:"All Orders",btnName:"Add Order",href:"/dashboard/products/add-product"})}),(0,n.jsx)("div",{className:"overflow-auto w-[95%] mx-auto mt-6 border rounded-md h-full shadow-[0_0px_5px_0px_rgba(0,0,0,0.3)]",children:(0,n.jsxs)("div",{className:"bg-white min-w-[600px]",children:[(0,n.jsx)(v,{}),(0,n.jsx)(o.Z,{productsData:r}),(0,n.jsx)("div",{className:"flex justify-end py-3 me-6",children:(0,n.jsx)(b.Z,{spacing:2,children:(0,n.jsx)(Z.Z,{page:u,onChange:(e,t)=>{h(t)},count:Math.ceil(e/c),shape:"rounded",color:"primary"})})})]})})]})}},45599:function(e,t,r){"use strict";var n=r(57437),a=r(75519);t.Z=e=>{let{title:t,href:r,btnName:s}=e;return(0,n.jsxs)("div",{className:"flex justify-between items-center px-6 ",children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-secondary",children:t}),(0,n.jsx)(a.Z,{variant:"contained",style:{backgroundColor:"#2FB261"},href:r,className:" text-white",children:s})]})}},85072:function(e,t,r){"use strict";var n=r(57437),a=r(2265),s=r(38472),i=r(48024),o=r(48367),l=r(58292),c=r(87116),d=r(91326),u=r(92674),h=r(28027),m=r(86645),x=r(74691),p=r(68884),g=r(75519);let f=(0,i.ZP)(o.Z)(e=>{let{theme:t}=e;return{["&.".concat(l.Z.head)]:{color:t.palette.common.white},["&.".concat(l.Z.body)]:{fontSize:14}}}),v=(0,i.ZP)(c.Z)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover}}});t.Z=e=>{let{productsData:t}=e,[r,i]=(0,a.useState)(t),o=async(e,t)=>{try{let r=await s.Z.put("".concat("https://testingbackend.ceramicandfoodproducts.com","/order/changeStatus/").concat(e),{status:t});console.log("✅ Server response:",r.data),i(r=>r.map(r=>r.Id===e?{...r,status:t}:r))}catch(e){var r;console.error("❌ Error updating order status:",(null===(r=e.response)||void 0===r?void 0:r.data)||e.message)}},l=(e,t)=>{let r="Pending";if("Pending"===t)r="Delivered";else if("Delivered"===t)r="Completed";else if("Completed"===t)return;o(e,r)},j=e=>{o(e,"Deny")};return(0,n.jsx)(d.Z,{sx:{overflowY:"auto"},children:(0,n.jsx)(u.Z,{sx:{width:"100%",overflow:"auto"},component:h.Z,className:"!rounded-none",children:(0,n.jsxs)(m.Z,{"aria-label":"simple table",children:[(0,n.jsx)(x.Z,{className:"bg-dash-primary",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Order ID"}),(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Customer Name"}),(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Phone"}),(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Product Name"}),(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Price"}),(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl",children:"Date"}),(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl",children:"Status"}),(0,n.jsx)(f,{align:"center",className:"font-semibold text-xl",children:"Actions"})]})}),(0,n.jsx)(p.Z,{children:r.map(e=>{var t,r,a;return(0,n.jsxs)(v,{children:[(0,n.jsx)(f,{component:"th",scope:"row",className:"border-r border-r-gray-200",children:(0,n.jsxs)("span",{className:"font-medium text-dash-primary",children:["#00",e.Id]})}),(0,n.jsx)(f,{align:"center",className:"border-r border-r-gray-200",children:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.name}),(0,n.jsx)(f,{align:"center",className:"border-r border-r-gray-200",children:null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.phone}),(0,n.jsx)(f,{align:"center",className:"border-r border-r-gray-200",children:null==e?void 0:null===(a=e.products)||void 0===a?void 0:a.map((t,r)=>(0,n.jsxs)("span",{children:[t.name,r<e.products.length-1&&", "]},r))}),(0,n.jsx)(f,{align:"center",children:(0,n.jsxs)("span",{children:["$",(Number(null==e?void 0:e.totalAmount)||0).toFixed(2)]})}),(0,n.jsx)(f,{align:"center",children:new Date(null==e?void 0:e.date).toLocaleDateString()}),(0,n.jsx)(f,{align:"center",children:e.status||"Pending"}),(0,n.jsxs)(f,{align:"center",children:[(0,n.jsx)(g.Z,{variant:"contained",color:"primary",onClick:()=>l(e.Id,e.status),sx:{width:100,height:30,fontSize:"0.75rem"},children:"Completed"===e.status?"Done":"Delivered"===e.status?"Finish":(e.status,"Accept")}),(0,n.jsx)(g.Z,{variant:"contained",color:"secondary",onClick:()=>j(e.Id),sx:{mt:2,width:100,height:30,fontSize:"0.75rem"},children:"Delete"})]})]},e.Id)})})]})})})}},40468:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(48646),a=r(23950),s=r(22988),i=r(2265),o=r(44839),l=r(76990),c=r(63098),d=r(12272),u=r(95885),h=r(48024),m=r(72296),x=r(70587);function p(e){return(0,x.ZP)("MuiCircularProgress",e)}(0,m.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g=r(57437);function f(){let e=(0,n._)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return f=function(){return e},e}function v(){let e=(0,n._)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]);return v=function(){return e},e}function j(){let e=(0,n._)(["\n      animation: "," 1.4s linear infinite;\n    "]);return j=function(){return e},e}function b(){let e=(0,n._)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]);return b=function(){return e},e}let Z=["className","color","disableShrink","size","style","thickness","value","variant"],y=e=>e,N,w,k,S,C=(0,c.F4)(N||(N=y(f()))),P=(0,c.F4)(w||(w=y(v()))),D=e=>{let{classes:t,variant:r,color:n,disableShrink:a}=e,s={root:["root",r,"color".concat((0,d.Z)(n))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(r)),a&&"circleDisableShrink"]};return(0,l.Z)(s,p,t)},M=(0,h.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t["color".concat((0,d.Z)(r.color))]]}})(e=>{let{ownerState:t,theme:r}=e;return(0,s.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:(r.vars||r).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,c.iv)(k||(k=y(j(),0)),C)}),_=(0,h.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),I=(0,h.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.circle,t["circle".concat((0,d.Z)(r.variant))],r.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:r}=e;return(0,s.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,c.iv)(S||(S=y(b(),0)),P)});var E=i.forwardRef(function(e,t){let r=(0,u.i)({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:l=!1,size:c=40,style:d,thickness:h=3.6,value:m=0,variant:x="indeterminate"}=r,p=(0,a.Z)(r,Z),f=(0,s.Z)({},r,{color:i,disableShrink:l,size:c,thickness:h,value:m,variant:x}),v=D(f),j={},b={},y={};if("determinate"===x){let e=2*Math.PI*((44-h)/2);j.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(m),j.strokeDashoffset="".concat(((100-m)/100*e).toFixed(3),"px"),b.transform="rotate(-90deg)"}return(0,g.jsx)(M,(0,s.Z)({className:(0,o.Z)(v.root,n),style:(0,s.Z)({width:c,height:c},b,d),ownerState:f,ref:t,role:"progressbar"},y,p,{children:(0,g.jsx)(_,{className:v.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44),children:(0,g.jsx)(I,{className:v.circle,style:j,ownerState:f,cx:44,cy:44,r:(44-h)/2,fill:"none",strokeWidth:h})})}))})}},function(e){e.O(0,[522,4047,8472,9537,2501,8159,6145,4893,6537,6062,3115,7245,2971,7023,1744],function(){return e(e.s=58136)}),_N_E=e.O()}]);