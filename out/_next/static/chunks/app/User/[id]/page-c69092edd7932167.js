(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5141],{73156:function(e,r,t){Promise.resolve().then(t.bind(t,77107))},77107:function(e,r,t){"use strict";t.d(r,{default:function(){return D}});var s=t(57437),n=t(2265),a=t(22960),l=t(48024),i=t(91326),o=t(58438),d=t(71733),c=t(79806),u=t(32184),x=t(20124),m=t(80511),h=t(14595),p=t(60335),g=t(7547),f=t(57300),j=t(86917),b=t(47905),w=t(18554),y=t(23051),N=t(72107),Z=t(62501),v=t(64593),C=t(95635),S=t(41942),k=t(43781),P=t(16356),z=t(11444),E=t(66648),F=t(38472),I=t(84894),U=t(87138),D=e=>{let{params:r}=e,{Id:t}=r,D=function(){let[e,r]=(0,n.useState)(()=>window.innerWidth);return(0,n.useEffect)(()=>{function e(){r(window.innerWidth)}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}(),{currentUser:M}=(0,z.v9)(e=>e.user);console.log("user",M),(0,a.Z)();let[R,L]=n.useState(D>=1280),[O,_]=n.useState(!1),[T,W]=n.useState(M.Image),[V,A]=n.useState(!1),B=(0,z.I0)();n.useEffect(()=>{D>=1280?L(!0):L(!1)},[D]);let[J,Q]=(0,n.useState)(!1),[Y,G]=(0,n.useState)([]);(0,n.useEffect)(()=>{G([{id:1,customer:"John Doe",total:150,status:"Processing"},{id:2,customer:"Jane Smith",total:200,status:"Shipped"},{id:3,customer:"Mark Johnson",total:120,status:"Delivered"}])},[]);let X=()=>{Q(!1)},H=()=>{L(!0)},$=()=>{L(!1)},q=e=>{_(e)},K=D>=600?240:150,ee=async e=>{B((0,I.kv)());let r=e.target.files[0];if(r)try{let e=await (0,N.Z)(r,{maxSizeMB:.1,maxWidthOrHeight:1024,useWebWorker:!0}),s=new File([e],r.name,{type:r.type}),n=new FileReader;n.onload=e=>{W(e.target.result)},n.readAsDataURL(s);let a=new FormData;a.append("ProfilePicture",s);let l=await F.Z.put("".concat("https://testingbackend.ceramicandfoodproducts.com","/user/ChangeProfilePicture/").concat(t),a);200===l.status&&(B((0,I.Uw)(l.data)),alert("Image added successfully!"))}catch(e){console.error(e),B((0,I.jp)(e.message)),alert("Error uploading image: "+e.message)}};n.useEffect(()=>{},[T]);let er=async e=>{e.preventDefault(),B((0,I.kv)());let r=new FormData;r.append("name",e.target.name.value),r.append("address",e.target.address.value),r.append("phone",e.target.phone.value),console.log("data",r);try{let e=await F.Z.put("".concat("https://testingbackend.ceramicandfoodproducts.com","/user/profile/edit/").concat(t),r,{headers:{"Content-Type":"application/json"}});200===e.status&&(console.log(e.data.message),B((0,I.Uw)(e.data)),alert("Profile Edit Success"))}catch(e){alert(e),B((0,I.jp)())}},et=e=>({width:K,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}),es=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),[e.breakpoints.up("sm")]:{width:"calc(".concat(e.spacing(10)," + 0.5px)")}}),en=(0,l.ZP)("div")(e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:r.spacing(0,1),...r.mixins.toolbar}}),ea=(0,l.ZP)(d.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t}=e;return{zIndex:r.zIndex.drawer+1,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),...t&&{marginLeft:K,width:"calc(100% - ".concat(K,"px)"),transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen})}}}),el=(0,l.ZP)(o.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t}=e;return{width:K,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{...et(r),"& .MuiDrawer-paper":et(r)},...!t&&{...es(r),"& .MuiDrawer-paper":es(r)}}});return(0,s.jsxs)(i.Z,{sx:{display:"flex",position:"relative"},children:[(0,s.jsx)(x.ZP,{}),(0,s.jsx)(ea,{position:"fixed",open:R,sx:{backgroundColor:"#273c75"},children:(0,s.jsxs)(c.Z,{children:[D>=1280&&(0,s.jsx)(p.Z,{color:"inherit","aria-label":"open drawer",onClick:H,edge:"start",sx:[{marginRight:5},R&&{display:"none"}],children:(0,s.jsx)(y.dQh,{size:30})}),D<1280&&(0,s.jsx)(p.Z,{color:"inherit",children:O?(0,s.jsx)(w.sQZ,{size:30,onClick:()=>q(!1)}):(0,s.jsx)(y.dQh,{size:30,onClick:()=>q(!0)})}),(0,s.jsx)(m.Z,{variant:"h6",noWrap:!0,component:"div",children:(0,s.jsxs)("div",{className:"lg:ml-[2rem] ml-[1rem] lg:pl-[1rem] pl-2 flex items-center gap-3 border-l",children:[(0,s.jsx)(y.ClW,{size:30}),"admin"===M.role?(0,s.jsx)(U.default,{href:"/dashboard",children:"Dashboard"}):(0,s.jsx)(U.default,{href:"/",children:"Back To Store"})]})})]})}),D>=1280&&(0,s.jsxs)(el,{variant:"permanent",open:R,onMouseEnter:H,onMouseLeave:$,children:[(0,s.jsx)(en,{children:(0,s.jsx)(p.Z,{onClick:$,children:(0,s.jsx)(S.x_l,{size:25})})}),(0,s.jsx)(h.Z,{}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(R?"h-[15rem]":"h-[5rem]"),children:[(0,s.jsx)("div",{className:"max-h-[2.5rem] min-h-[2.5rem] max-w-[2.5rem] min-w-[2.5rem] flex items-center justify-center overflow-hidden rounded-full",children:(0,s.jsx)(E.default,{src:M.Image,height:40,width:40})}),R&&(0,s.jsx)("p",{className:"lg:text-xl font-semibold",children:M.name}),R&&(0,s.jsxs)("p",{className:"text-[rgba(0,0,0,0.5)] text-sm",children:["Member Type: ",M.role]})]}),(0,s.jsx)(h.Z,{}),(0,s.jsx)(u.Z,{children:(0,s.jsxs)(g.ZP,{disablePadding:!0,sx:{display:"block"},children:[(0,s.jsxs)(f.Z,{sx:{justifyContent:"initial"},onClick:()=>{Q(!0)},children:[(0,s.jsx)(j.Z,{sx:{justifyContent:"center"},children:(0,s.jsx)(k.bm9,{size:30})}),(0,s.jsx)(b.Z,{primary:"My Orders"})]}),(0,s.jsxs)(f.Z,{sx:{justifyContent:R?"initial":"center"},children:[(0,s.jsx)(j.Z,{sx:{justifyContent:"center"},children:(0,s.jsx)(y.YEt,{size:R?30:25})}),(0,s.jsx)(b.Z,{primary:"Logout",sx:{opacity:R?1:0}})]})]})})]}),(0,s.jsx)(Z.Z,{open:J,onClose:X,closeAfterTransition:!0,BackdropComponent:v.Z,BackdropProps:{timeout:500},children:(0,s.jsx)(C.Z,{in:J,children:(0,s.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"90%",sm:"80%",md:"70%",lg:"60%"},bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"},children:[(0,s.jsx)(m.Z,{variant:"h6",component:"h2",sx:{mb:2},children:"Order Status"}),(0,s.jsxs)(m.Z,{sx:{mb:3},children:["Your latest order is ",(0,s.jsx)("b",{children:"Processing"}),". Estimated delivery: 3 days."]}),(0,s.jsxs)("table",{className:"min-w-full table-auto border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border p-2 text-left",children:"Order ID"}),(0,s.jsx)("th",{className:"border p-2 text-left",children:"Customer"}),(0,s.jsx)("th",{className:"border p-2 text-left",children:"Total"}),(0,s.jsx)("th",{className:"border p-2 text-left",children:"Status"})]})}),(0,s.jsx)("tbody",{children:Y.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border p-2",children:e.id}),(0,s.jsx)("td",{className:"border p-2",children:e.customer}),(0,s.jsxs)("td",{className:"border p-2",children:["$",e.total]}),(0,s.jsx)("td",{className:"border p-2",children:e.status})]},e.id))})]}),(0,s.jsx)("button",{onClick:X,style:{marginTop:"15px",padding:"10px 15px",backgroundColor:"#273c75",color:"white",borderRadius:"5px",border:"none",cursor:"pointer"},children:"Close"})]})})}),D<1280&&(0,s.jsx)(o.ZP,{open:O,onClose:()=>q(!1),children:(0,s.jsxs)(i.Z,{sx:{zIndex:50},children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-[15rem]",children:[(0,s.jsx)("div",{className:"max-h-[4.5rem] min-h-[4.5rem] max-w-[4.5rem] min-w-[4.5rem] flex items-center justify-center overflow-hidden rounded-full",children:(0,s.jsx)(E.default,{src:M.Image,height:90,width:90})}),(0,s.jsx)("p",{className:"lg:text-xl font-semibold",children:M.name}),(0,s.jsx)("p",{className:"text-[rgba(0,0,0,0.5)] text-sm",children:"Member Type: General"}),(0,s.jsxs)("p",{className:"text-sm",children:["Points: ",(0,s.jsx)("span",{className:"text-[red] font-semibold",children:"0"})]})]}),(0,s.jsx)(h.Z,{}),(0,s.jsx)(u.Z,{children:(0,s.jsxs)(g.ZP,{disablePadding:!0,sx:{display:"block"},children:[(0,s.jsxs)(f.Z,{sx:{justifyContent:"center"},children:[(0,s.jsx)(j.Z,{sx:{justifyContent:"center"},children:(0,s.jsx)(k.bm9,{size:25})}),(0,s.jsx)(b.Z,{primary:"My Orders"})]}),(0,s.jsxs)(f.Z,{sx:{justifyContent:"center"},children:[(0,s.jsx)(j.Z,{sx:{justifyContent:"center"},children:(0,s.jsx)(P.c7Z,{size:25})}),(0,s.jsx)(b.Z,{primary:"Change Password"})]}),(0,s.jsxs)(f.Z,{sx:{justifyContent:"center"},children:[(0,s.jsx)(j.Z,{sx:{justifyContent:"center"},children:(0,s.jsx)(y.YEt,{size:25})}),(0,s.jsx)(b.Z,{primary:"Logout"})]})]})})]})}),(0,s.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3},children:[(0,s.jsx)(en,{}),(0,s.jsx)("p",{className:"text-xl ",children:"Personal Info"}),(0,s.jsxs)("form",{className:"w-full h-full flex lg:flex-row flex-col gap-8 items-center justify-center",onSubmit:er,children:[(0,s.jsxs)("div",{className:"lg:w-[30%] flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{className:"max-h-[10rem] lg:max-h-[12rem] min-h-[8rem] lg:min-h-[10rem] max-w-[10rem] lg:max-w-[12rem] min-w-[8rem] lg:min-w-[10rem] border-4 rounded-full overflow-hidden flex items-center justify-center bg-gray-200",children:(0,s.jsx)(E.default,{src:T,height:170,width:170,className:"object-cover",alt:"User picture"})}),(0,s.jsx)("input",{className:"hidden",id:"imageChange",type:"file",onChange:ee}),(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),document.getElementById("imageChange").click()},className:"mt-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2",children:(0,s.jsx)(y.ggF,{size:20})})]}),(0,s.jsxs)("div",{className:"lg:w-[70%] w-full lg:px-10 px-4 flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex w-full gap-4",children:[(0,s.jsx)("label",{htmlFor:"name",className:"w-[30%] text-lg font-medium text-gray-700",children:"Name"}),(0,s.jsx)("input",{type:"text",name:"name",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:M.name})]}),(0,s.jsxs)("div",{className:"flex w-full gap-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"w-[30%] text-lg font-medium text-gray-700",children:"Email"}),(0,s.jsx)("input",{type:"text",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",defaultValue:M.email,disabled:!0})]}),(0,s.jsxs)("div",{className:"flex w-full gap-4",children:[(0,s.jsx)("label",{htmlFor:"address",className:"w-[30%] text-lg font-medium text-gray-700",children:"Address"}),(0,s.jsx)("input",{type:"text",name:"address",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:M.address})]}),(0,s.jsxs)("div",{className:"flex w-full gap-4",children:[(0,s.jsx)("label",{htmlFor:"phone",className:"w-[30%] text-lg font-medium text-gray-700",children:"Phone"}),(0,s.jsx)("input",{type:"text",name:"phone",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:M.phone})]}),(0,s.jsxs)("div",{className:"flex w-full gap-4",children:[(0,s.jsx)("label",{htmlFor:"role",className:"w-[30%] text-lg font-medium text-gray-700",children:"Role"}),(0,s.jsx)("input",{type:"text",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",defaultValue:M.role,disabled:!0})]}),(0,s.jsxs)("div",{className:"flex w-full gap-4",children:[(0,s.jsx)("label",{htmlFor:"joined",className:"w-[30%] text-lg font-medium text-gray-700",children:"Joined"}),(0,s.jsx)("input",{type:"text",className:"w-[70%] py-2 px-4 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",defaultValue:M.registration_date,disabled:!0})]}),V&&(0,s.jsx)("button",{className:"mt-6 bg-blue-500 hover:bg-blue-600 text-white py-2 px-6 rounded-lg",type:"submit",children:"Update"})]})]})]}),!V&&(0,s.jsx)("button",{className:"absolute top-20 right-10 bg-[rgba(0,0,255,0.5)] px-2 py-1 rounded-xl text-white",onClick:()=>A(!0),children:"Edit Info"})]})}},84894:function(e,r,t){"use strict";t.d(r,{AP:function(){return l},Dl:function(){return m},Uw:function(){return u},fc:function(){return a},jp:function(){return x},kv:function(){return c},lA:function(){return n}});let s=(0,t(81904).oM)({name:"user",initialState:{currentUser:null,error:null,loading:!1},reducers:{SignInStart:e=>{e.loading=!0,e.error=null},SignInSuccess:(e,r)=>{e.currentUser=r.payload,e.loading=!1,e.error=null},SignInFailure:(e,r)=>{e.loading=!1,e.error=r.payload},RegisterStart:e=>{e.loading=!0,e.error=null},RegisterSuccess:(e,r)=>{e.currentUser=r.payload,e.loading=!1,e.error=null},RegisterFailure:(e,r)=>{e.loading=!1,e.error=r.payload},UpdateProfileStart:e=>{e.loading=!0,e.error=null},UpdateProfileSuccess:(e,r)=>{e.currentUser={...e.currentUser,...r.payload},e.loading=!1,e.error=null},UpdateProfileFailure:(e,r)=>{e.loading=!1,e.error=r.payload},LogOutUser:(e,r)=>{e.currentUser=null}}}),{SignInStart:n,SignInFailure:a,SignInSuccess:l,RegisterStart:i,RegisterSuccess:o,RegisterFailure:d,UpdateProfileStart:c,UpdateProfileSuccess:u,UpdateProfileFailure:x,LogOutUser:m}=s.actions;r.ZP=s.reducer}},function(e){e.O(0,[522,7699,6051,1779,5280,9537,8472,2501,8173,231,7581,4262,8920,9561,2971,7023,1744],function(){return e(e.s=73156)}),_N_E=e.O()}]);